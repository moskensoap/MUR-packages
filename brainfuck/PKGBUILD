# Maintainer: moskensoap <141073988+moskensoap@users.noreply.github.com>

pkgname="mur__brainfuck"
pkgver=0.4
pkgrel=1
pkgdesc='Brainfuck interpreter and compiler written in C with automatic memory expansion.'
arch=('x86_64')
url='https://github.com/moskensoap/brainfuck'
license=('MIT')
makedepends=("make"
             "gcc")
depends=('gcc'
         'optfirst')

source=("$url/archive/refs/tags/$pkgver.zip")
sha256sums=('5c91bc8bf395a1d3c6b2e8f095f48fd589a340a728c1b1b7db8ecf92edbd5809')

prepare() {
  cd ${srcdir}
  cd brainfuck-$pkgver
  sed -i 's/cc -x c/usrfirst cc -x c/g' brainfuck-compiler.c
}

build() {
  cd ${srcdir}
  cd brainfuck-$pkgver
  make
}

package() {
  cd ${srcdir}
  cd brainfuck-$pkgver
  install -Dm755 bf.exe ${pkgdir}/usr/local/bin/bf.exe
  install -Dm755 bfc.exe ${pkgdir}/usr/local/bin/bfc.exe
  install -Dm644 LICENSE ${pkgdir}/usr/local/share/licenses/${pkgname}/LICENSE
}
