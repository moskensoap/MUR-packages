# Maintainer: moskensoap <141073988+moskensoap@users.noreply.github.com>

pkgname="mur-zig"
pkgver=0.13.0
pkgrel=1
pkgdesc='General-purpose programming language and toolchain for maintaining robust, optimal, and reusable software.'
arch=('any')
url='https://ziglang.org'
license=(MIT)
makedepends=("gcc")
source=("$url/download/${pkgver}/zig-windows-x86_64-${pkgver}.zip"
        "main.c")
sha256sums=('d859994725ef9402381e557c60bb57497215682e355204d754ee3df75ee3c158'
            'c471bf58b9b76a3e9c3c91ec4680720a68c873297a1bc61f82483365b4337905')

build() {
  cd ${srcdir}
  gcc main.c -o zig.exe -O3 -s
}

package() {
  cd ${srcdir}
  install -Dm755 zig.exe ${pkgdir}/opt/bin/zig.exe

  cd ${srcdir}/zig-windows-x86_64-${pkgver}

  mkdir ${pkgdir}/opt/share
  mkdir ${pkgdir}/opt/share/mur-zig
  cp -a ${srcdir}/zig-windows-x86_64-${pkgver}/* ${pkgdir}/opt/share/mur-zig/
}